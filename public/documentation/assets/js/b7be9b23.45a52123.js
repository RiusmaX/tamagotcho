"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[505],{3663:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"vercel-configuration","title":"Configuration Vercel","description":"Guide complet pour d\xe9ployer Tamagotcho (Next.js + Docusaurus) sur Vercel.","source":"@site/docs/vercel-configuration.md","sourceDirName":".","slug":"/vercel-configuration","permalink":"/documentation/vercel-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/RiusmaX/tamagotcho/tree/master/documentation/docs/vercel-configuration.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Guide de D\xe9veloppement","permalink":"/documentation/development-guide"},"next":{"title":"Principes SOLID","permalink":"/documentation/architecture/solid-principles"}}');var r=i(4848),l=i(8453);const d={sidebar_position:3},t="Configuration Vercel",c={},o=[{value:"\ud83d\ude80 Vue d&#39;ensemble",id:"-vue-densemble",level:2},{value:"\ud83d\udccb Fichier vercel.json",id:"-fichier-verceljson",level:2},{value:"Explication des options",id:"explication-des-options",level:3},{value:"\ud83d\udd27 Configuration du build",id:"-configuration-du-build",level:2},{value:"Build Commands",id:"build-commands",level:3},{value:"Output Directories",id:"output-directories",level:3},{value:"\ud83d\udd00 Rewrites et routing",id:"-rewrites-et-routing",level:2},{value:"Rewrite Rule",id:"rewrite-rule",level:3},{value:"Routes de l&#39;application",id:"routes-de-lapplication",level:3},{value:"\ud83c\udf10 Headers HTTP",id:"-headers-http",level:2},{value:"Cache Control",id:"cache-control",level:3},{value:"\ud83d\udd10 Variables d&#39;environnement",id:"-variables-denvironnement",level:2},{value:"Configuration dans Vercel Dashboard",id:"configuration-dans-vercel-dashboard",level:3},{value:"Production",id:"production",level:4},{value:"Preview (Branches)",id:"preview-branches",level:4},{value:"\u26a0\ufe0f S\xe9curit\xe9",id:"\ufe0f-s\xe9curit\xe9",level:3},{value:"\ud83d\udce6 Processus de d\xe9ploiement",id:"-processus-de-d\xe9ploiement",level:2},{value:"D\xe9ploiement automatique",id:"d\xe9ploiement-automatique",level:3},{value:"D\xe9ploiement manuel",id:"d\xe9ploiement-manuel",level:3},{value:"\ud83d\udd0d V\xe9rifications post-d\xe9ploiement",id:"-v\xe9rifications-post-d\xe9ploiement",level:2},{value:"Checklist",id:"checklist",level:3},{value:"URLs \xe0 tester",id:"urls-\xe0-tester",level:3},{value:"\ud83d\udc1b Troubleshooting",id:"-troubleshooting",level:2},{value:"Documentation non accessible",id:"documentation-non-accessible",level:3},{value:"Variables d&#39;environnement non d\xe9finies",id:"variables-denvironnement-non-d\xe9finies",level:3},{value:"Build qui \xe9choue",id:"build-qui-\xe9choue",level:3},{value:"OAuth GitHub ne fonctionne pas",id:"oauth-github-ne-fonctionne-pas",level:3},{value:"\ud83d\udcca Performance",id:"-performance",level:2},{value:"Optimisations activ\xe9es",id:"optimisations-activ\xe9es",level:3},{value:"M\xe9triques recommand\xe9es",id:"m\xe9triques-recommand\xe9es",level:3},{value:"\ud83d\udd04 Mises \xe0 jour",id:"-mises-\xe0-jour",level:2},{value:"Update de la documentation",id:"update-de-la-documentation",level:3},{value:"Update de l&#39;application",id:"update-de-lapplication",level:3},{value:"\ud83c\udf0d Domaines personnalis\xe9s",id:"-domaines-personnalis\xe9s",level:2},{value:"Ajouter un domaine",id:"ajouter-un-domaine",level:3},{value:"SSL/TLS",id:"ssltls",level:3},{value:"\ud83d\udcc8 Monitoring",id:"-monitoring",level:2},{value:"Logs Vercel",id:"logs-vercel",level:3},{value:"Erreurs Runtime",id:"erreurs-runtime",level:3},{value:"Analytics",id:"analytics",level:3},{value:"\ud83d\udd17 Ressources",id:"-ressources",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"configuration-vercel",children:"Configuration Vercel"})}),"\n",(0,r.jsx)(n.p,{children:"Guide complet pour d\xe9ployer Tamagotcho (Next.js + Docusaurus) sur Vercel."}),"\n",(0,r.jsx)(n.h2,{id:"-vue-densemble",children:"\ud83d\ude80 Vue d'ensemble"}),"\n",(0,r.jsx)(n.p,{children:"Le projet Tamagotcho utilise une configuration sp\xe9ciale pour h\xe9berger \xe0 la fois :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Application Next.js"})," sur ",(0,r.jsx)(n.code,{children:"/"})," (routes principales)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documentation Docusaurus"})," sur ",(0,r.jsx)(n.code,{children:"/documentation/"})," (sous-chemin)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Cette configuration est d\xe9finie dans ",(0,r.jsx)(n.code,{children:"vercel.json"})," \xe0 la racine du projet."]}),"\n",(0,r.jsx)(n.h2,{id:"-fichier-verceljson",children:"\ud83d\udccb Fichier vercel.json"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "buildCommand": "npm run build && cd documentation && npm run build",\r\n  "outputDirectory": ".next",\r\n  "rewrites": [\r\n    {\r\n      "source": "/documentation/:path*",\r\n      "destination": "/documentation/build/:path*"\r\n    }\r\n  ],\r\n  "headers": [\r\n    {\r\n      "source": "/documentation/(.*)",\r\n      "headers": [\r\n        {\r\n          "key": "Cache-Control",\r\n          "value": "public, max-age=31536000, immutable"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"explication-des-options",children:"Explication des options"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"buildCommand"})}),(0,r.jsx)(n.td,{children:"Commande de build compl\xe8te (Next.js puis Docusaurus)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"outputDirectory"})}),(0,r.jsxs)(n.td,{children:["Dossier de sortie Next.js (",(0,r.jsx)(n.code,{children:".next"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rewrites"})}),(0,r.jsxs)(n.td,{children:["Redirection ",(0,r.jsx)(n.code,{children:"/documentation/*"})," vers le build Docusaurus"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"headers"})}),(0,r.jsx)(n.td,{children:"Cache long terme pour les assets de documentation"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"-configuration-du-build",children:"\ud83d\udd27 Configuration du build"}),"\n",(0,r.jsx)(n.h3,{id:"build-commands",children:"Build Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "buildCommand": "npm run build && cd documentation && npm run build"\r\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Cette commande :"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Build Next.js"})," : ",(0,r.jsx)(n.code,{children:"npm run build"})," (ex\xe9cute ",(0,r.jsx)(n.code,{children:"next build --turbopack"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Build Docusaurus"})," : ",(0,r.jsx)(n.code,{children:"cd documentation && npm run build"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"output-directories",children:"Output Directories"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Next.js"})," : ",(0,r.jsx)(n.code,{children:".next/"})," (racine)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Docusaurus"})," : ",(0,r.jsx)(n.code,{children:"documentation/build/"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-rewrites-et-routing",children:"\ud83d\udd00 Rewrites et routing"}),"\n",(0,r.jsx)(n.h3,{id:"rewrite-rule",children:"Rewrite Rule"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "source": "/documentation/:path*",\r\n  "destination": "/documentation/build/:path*"\r\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Comportement :"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Requ\xeate : ",(0,r.jsx)(n.code,{children:"https://tamagotcho.vercel.app/documentation/intro"})]}),"\n",(0,r.jsxs)(n.li,{children:["Servie depuis : ",(0,r.jsx)(n.code,{children:"documentation/build/intro/index.html"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"routes-de-lapplication",children:"Routes de l'application"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"URL"}),(0,r.jsx)(n.th,{children:"Servie par"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/"})}),(0,r.jsx)(n.td,{children:"Next.js"}),(0,r.jsx)(n.td,{children:"Page d'accueil"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/dashboard"})}),(0,r.jsx)(n.td,{children:"Next.js"}),(0,r.jsx)(n.td,{children:"Dashboard utilisateur"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/creature/[id]"})}),(0,r.jsx)(n.td,{children:"Next.js"}),(0,r.jsx)(n.td,{children:"Page d\xe9tail cr\xe9ature"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/sign-in"})}),(0,r.jsx)(n.td,{children:"Next.js"}),(0,r.jsx)(n.td,{children:"Page de connexion"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/auth/*"})}),(0,r.jsx)(n.td,{children:"Next.js API"}),(0,r.jsx)(n.td,{children:"Routes d'authentification"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/documentation/*"})}),(0,r.jsx)(n.td,{children:"Docusaurus"}),(0,r.jsx)(n.td,{children:"Documentation technique"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"-headers-http",children:"\ud83c\udf10 Headers HTTP"}),"\n",(0,r.jsx)(n.h3,{id:"cache-control",children:"Cache Control"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "source": "/documentation/(.*)",\r\n  "headers": [\r\n    {\r\n      "key": "Cache-Control",\r\n      "value": "public, max-age=31536000, immutable"\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"B\xe9n\xe9fices :"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Cache long terme (1 an) pour les assets de documentation"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 R\xe9duction de la bande passante"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Temps de chargement plus rapide"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-variables-denvironnement",children:"\ud83d\udd10 Variables d'environnement"}),"\n",(0,r.jsx)(n.h3,{id:"configuration-dans-vercel-dashboard",children:"Configuration dans Vercel Dashboard"}),"\n",(0,r.jsxs)(n.p,{children:["Ajouter les variables dans ",(0,r.jsx)(n.strong,{children:"Settings > Environment Variables"})," :"]}),"\n",(0,r.jsx)(n.h4,{id:"production",children:"Production"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Valeur"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MONGODB_URI"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mongodb+srv://..."})}),(0,r.jsx)(n.td,{children:"Connexion MongoDB"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MONGODB_DATABASE_NAME"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tamagotcho"})}),(0,r.jsx)(n.td,{children:"Nom de la base"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"BETTER_AUTH_SECRET"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"secret_32_chars_min"})}),(0,r.jsx)(n.td,{children:"Secret Better Auth"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"NEXT_PUBLIC_APP_URL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"https://tamagotcho.vercel.app"})}),(0,r.jsx)(n.td,{children:"URL de production"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GITHUB_CLIENT_ID"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"your_client_id"})}),(0,r.jsx)(n.td,{children:"GitHub OAuth ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GITHUB_CLIENT_SECRET"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"your_secret"})}),(0,r.jsx)(n.td,{children:"GitHub OAuth Secret"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"preview-branches",children:"Preview (Branches)"}),"\n",(0,r.jsx)(n.p,{children:"M\xeame configuration que Production, ou utiliser des credentials de test."}),"\n",(0,r.jsx)(n.h3,{id:"\ufe0f-s\xe9curit\xe9",children:"\u26a0\ufe0f S\xe9curit\xe9"}),"\n",(0,r.jsxs)(n.admonition,{title:"Variables sensibles",type:"danger",children:[(0,r.jsxs)(n.p,{children:["Ne ",(0,r.jsx)(n.strong,{children:"JAMAIS"})," commiter les valeurs r\xe9elles de :"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"MONGODB_URI"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"BETTER_AUTH_SECRET"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"GITHUB_CLIENT_SECRET"})}),"\n"]}),(0,r.jsxs)(n.p,{children:["Toujours utiliser ",(0,r.jsx)(n.code,{children:".env.local"})," en local et Vercel Environment Variables en production."]})]}),"\n",(0,r.jsx)(n.h2,{id:"-processus-de-d\xe9ploiement",children:"\ud83d\udce6 Processus de d\xe9ploiement"}),"\n",(0,r.jsx)(n.h3,{id:"d\xe9ploiement-automatique",children:"D\xe9ploiement automatique"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Push sur ",(0,r.jsx)(n.code,{children:"master"})]})," \u2192 D\xe9ploiement en production automatique"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pull Request"})," \u2192 D\xe9ploiement preview automatique"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Autre branche"})," \u2192 Peut \xeatre configur\xe9 dans Vercel"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"d\xe9ploiement-manuel",children:"D\xe9ploiement manuel"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Installer Vercel CLI\r\nnpm i -g vercel\r\n\r\n# Login\r\nvercel login\r\n\r\n# D\xe9ployer\r\nvercel\r\n\r\n# D\xe9ployer en production\r\nvercel --prod\n"})}),"\n",(0,r.jsx)(n.h2,{id:"-v\xe9rifications-post-d\xe9ploiement",children:"\ud83d\udd0d V\xe9rifications post-d\xe9ploiement"}),"\n",(0,r.jsx)(n.h3,{id:"checklist",children:"Checklist"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Application Next.js accessible sur ",(0,r.jsx)(n.code,{children:"/"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Documentation accessible sur ",(0,r.jsx)(n.code,{children:"/documentation/"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","API routes fonctionnelles (",(0,r.jsx)(n.code,{children:"/api/auth/*"}),")"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Images et assets charg\xe9s correctement"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Authentification GitHub OAuth fonctionne"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Connexion MongoDB \xe9tablie"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Pas d'erreurs dans les logs Vercel"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"urls-\xe0-tester",children:"URLs \xe0 tester"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Application principale\r\nhttps://tamagotcho.vercel.app/\r\n\r\n# Dashboard (requiert authentification)\r\nhttps://tamagotcho.vercel.app/dashboard\r\n\r\n# Documentation\r\nhttps://tamagotcho.vercel.app/documentation/\r\n\r\n# API Health check\r\nhttps://tamagotcho.vercel.app/api/auth/session\n"})}),"\n",(0,r.jsx)(n.h2,{id:"-troubleshooting",children:"\ud83d\udc1b Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"documentation-non-accessible",children:"Documentation non accessible"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Sympt\xf4me"})," : 404 sur ",(0,r.jsx)(n.code,{children:"/documentation/*"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions :"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"V\xe9rifier que le build Docusaurus s'est bien ex\xe9cut\xe9 dans les logs"}),"\n",(0,r.jsxs)(n.li,{children:["V\xe9rifier la pr\xe9sence de ",(0,r.jsx)(n.code,{children:"documentation/build/"})," apr\xe8s le build"]}),"\n",(0,r.jsxs)(n.li,{children:["V\xe9rifier les rewrites dans ",(0,r.jsx)(n.code,{children:"vercel.json"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Tester le build en local\r\nnpm run build\r\ncd documentation && npm run build\n"})}),"\n",(0,r.jsx)(n.h3,{id:"variables-denvironnement-non-d\xe9finies",children:"Variables d'environnement non d\xe9finies"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Sympt\xf4me"})," : Erreurs ",(0,r.jsx)(n.code,{children:"process.env.XXX is undefined"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions :"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"V\xe9rifier dans Vercel Dashboard > Settings > Environment Variables"}),"\n",(0,r.jsx)(n.li,{children:"Red\xe9ployer apr\xe8s ajout de variables"}),"\n",(0,r.jsxs)(n.li,{children:["V\xe9rifier le pr\xe9fixe ",(0,r.jsx)(n.code,{children:"NEXT_PUBLIC_"})," pour les variables client"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"build-qui-\xe9choue",children:"Build qui \xe9choue"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Sympt\xf4me"})," : Build failed in Vercel"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions :"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"V\xe9rifier les logs de build dans Vercel Dashboard"}),"\n",(0,r.jsxs)(n.li,{children:["Tester le build en local : ",(0,r.jsx)(n.code,{children:"npm run build"})]}),"\n",(0,r.jsxs)(n.li,{children:["V\xe9rifier que toutes les d\xe9pendances sont dans ",(0,r.jsx)(n.code,{children:"package.json"})]}),"\n",(0,r.jsx)(n.li,{children:"V\xe9rifier la version de Node.js (20.x recommand\xe9e)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"oauth-github-ne-fonctionne-pas",children:"OAuth GitHub ne fonctionne pas"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Sympt\xf4me"})," : Erreur lors de la connexion GitHub"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions :"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["V\xe9rifier les URLs de callback dans GitHub OAuth App :","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Homepage URL : ",(0,r.jsx)(n.code,{children:"https://tamagotcho.vercel.app"})]}),"\n",(0,r.jsxs)(n.li,{children:["Callback URL : ",(0,r.jsx)(n.code,{children:"https://tamagotcho.vercel.app/api/auth/callback/github"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["V\xe9rifier ",(0,r.jsx)(n.code,{children:"GITHUB_CLIENT_ID"})," et ",(0,r.jsx)(n.code,{children:"GITHUB_CLIENT_SECRET"})]}),"\n",(0,r.jsxs)(n.li,{children:["V\xe9rifier ",(0,r.jsx)(n.code,{children:"NEXT_PUBLIC_APP_URL"})," pointe vers le bon domaine"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-performance",children:"\ud83d\udcca Performance"}),"\n",(0,r.jsx)(n.h3,{id:"optimisations-activ\xe9es",children:"Optimisations activ\xe9es"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Turbopack"})," pour des builds plus rapides"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Image Optimization"})," Next.js"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Static Generation"})," pour les pages non-dynamiques"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Edge Functions"})," pour les API routes"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Cache long terme"})," pour les assets de documentation"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"m\xe9triques-recommand\xe9es",children:"M\xe9triques recommand\xe9es"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"M\xe9trique"}),(0,r.jsx)(n.th,{children:"Cible"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"First Contentful Paint"}),(0,r.jsx)(n.td,{children:"< 1.5s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Time to Interactive"}),(0,r.jsx)(n.td,{children:"< 3.5s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Largest Contentful Paint"}),(0,r.jsx)(n.td,{children:"< 2.5s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Cumulative Layout Shift"}),(0,r.jsx)(n.td,{children:"< 0.1"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Monitorer via ",(0,r.jsx)(n.strong,{children:"Vercel Analytics"})," et ",(0,r.jsx)(n.strong,{children:"Web Vitals"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"-mises-\xe0-jour",children:"\ud83d\udd04 Mises \xe0 jour"}),"\n",(0,r.jsx)(n.h3,{id:"update-de-la-documentation",children:"Update de la documentation"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Modifier les fichiers dans ",(0,r.jsx)(n.code,{children:"documentation/docs/"})]}),"\n",(0,r.jsx)(n.li,{children:"Commit et push"}),"\n",(0,r.jsx)(n.li,{children:"Vercel rebuild automatiquement"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"update-de-lapplication",children:"Update de l'application"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Modifier le code dans ",(0,r.jsx)(n.code,{children:"src/"})]}),"\n",(0,r.jsxs)(n.li,{children:["Tester en local : ",(0,r.jsx)(n.code,{children:"npm run dev"})]}),"\n",(0,r.jsx)(n.li,{children:"Commit et push"}),"\n",(0,r.jsx)(n.li,{children:"Vercel rebuild automatiquement"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-domaines-personnalis\xe9s",children:"\ud83c\udf0d Domaines personnalis\xe9s"}),"\n",(0,r.jsx)(n.h3,{id:"ajouter-un-domaine",children:"Ajouter un domaine"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Aller dans ",(0,r.jsx)(n.strong,{children:"Vercel Dashboard > Settings > Domains"})]}),"\n",(0,r.jsxs)(n.li,{children:["Ajouter le domaine (ex: ",(0,r.jsx)(n.code,{children:"tamagotcho.com"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Configurer les DNS selon les instructions Vercel"}),"\n",(0,r.jsxs)(n.li,{children:["Mettre \xe0 jour ",(0,r.jsx)(n.code,{children:"NEXT_PUBLIC_APP_URL"})," et GitHub OAuth URLs"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"ssltls",children:"SSL/TLS"}),"\n",(0,r.jsx)(n.p,{children:"Vercel fournit automatiquement des certificats SSL via Let's Encrypt."}),"\n",(0,r.jsx)(n.h2,{id:"-monitoring",children:"\ud83d\udcc8 Monitoring"}),"\n",(0,r.jsx)(n.h3,{id:"logs-vercel",children:"Logs Vercel"}),"\n",(0,r.jsx)(n.p,{children:"Acc\xe9der aux logs en temps r\xe9el :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Vercel Dashboard > Deployments > [Deployment] > Logs"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"erreurs-runtime",children:"Erreurs Runtime"}),"\n",(0,r.jsx)(n.p,{children:"Les erreurs sont logg\xe9es automatiquement dans :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Vercel Dashboard > Logs > Runtime Logs"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"analytics",children:"Analytics"}),"\n",(0,r.jsx)(n.p,{children:"Activer Vercel Analytics pour :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Web Vitals"}),"\n",(0,r.jsx)(n.li,{children:"Trafic"}),"\n",(0,r.jsx)(n.li,{children:"G\xe9olocalisation des visiteurs"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-ressources",children:"\ud83d\udd17 Ressources"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://vercel.com/docs",children:"Vercel Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://vercel.com/docs/frameworks/nextjs",children:"Next.js on Vercel"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docusaurus.io/docs/deployment",children:"Docusaurus Deployment"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://vercel.com/docs/concepts/projects/environment-variables",children:"Environment Variables"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Configuration r\xe9alis\xe9e pour Tamagotcho - My Digital School"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>t});var s=i(6540);const r={},l=s.createContext(r);function d(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);