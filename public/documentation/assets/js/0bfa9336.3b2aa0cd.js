"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[557],{6952:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"cron/overview","title":"Vue d\'ensemble","description":"Le syst\xe8me de mise \xe0 jour automatique permet de changer al\xe9atoirement les \xe9tats des monstres \xe0 intervalles r\xe9guliers, directement int\xe9gr\xe9 dans l\'application Next.js.","source":"@site/docs/cron/overview.md","sourceDirName":"cron","slug":"/cron/overview","permalink":"/documentation/cron/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/RiusmaX/tamagotcho/tree/master/documentation/docs/cron/overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Vue d\'ensemble"},"sidebar":"tutorialSidebar","previous":{"title":"Syst\xe8me d\'Authentification","permalink":"/documentation/authentication/auth-system"},"next":{"title":"Guide de d\xe9marrage rapide","permalink":"/documentation/cron/quickstart"}}');var r=s(4848),t=s(8453);const l={sidebar_position:1,title:"Vue d'ensemble"},o="Syst\xe8me de Mise \xe0 Jour Automatique",c={},d=[{value:"\ud83c\udfaf Objectif",id:"-objectif",level:2},{value:"\ud83c\udfd7\ufe0f Architecture",id:"\ufe0f-architecture",level:2},{value:"Composants principaux",id:"composants-principaux",level:3},{value:"\u2728 Fonctionnalit\xe9s",id:"-fonctionnalit\xe9s",level:2},{value:"\ud83d\ude80 Avantages",id:"-avantages",level:2},{value:"\ud83d\udcca \xc9tats possibles",id:"-\xe9tats-possibles",level:2},{value:"\ud83d\udd04 Flux de mise \xe0 jour",id:"-flux-de-mise-\xe0-jour",level:2},{value:"\ud83d\udcda Documentation d\xe9taill\xe9e",id:"-documentation-d\xe9taill\xe9e",level:2},{value:"\ud83c\udf93 Prochaines \xe9tapes",id:"-prochaines-\xe9tapes",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"syst\xe8me-de-mise-\xe0-jour-automatique",children:"Syst\xe8me de Mise \xe0 Jour Automatique"})}),"\n",(0,r.jsx)(n.p,{children:"Le syst\xe8me de mise \xe0 jour automatique permet de changer al\xe9atoirement les \xe9tats des monstres \xe0 intervalles r\xe9guliers, directement int\xe9gr\xe9 dans l'application Next.js."}),"\n",(0,r.jsx)(n.h2,{id:"-objectif",children:"\ud83c\udfaf Objectif"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Simuler un comportement vivant des monstres"}),"\n",(0,r.jsx)(n.li,{children:"Mise \xe0 jour automatique des \xe9tats (sad, angry, hungry, sleepy)"}),"\n",(0,r.jsx)(n.li,{children:"Intervalles al\xe9atoires pour un comportement naturel"}),"\n",(0,r.jsx)(n.li,{children:"Sans service externe, tout int\xe9gr\xe9 dans Next.js"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-architecture",children:"\ud83c\udfd7\ufe0f Architecture"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"graph TD\r\n    A[Layout Principal] --\x3e B[MonstersAutoUpdater Component]\r\n    B --\x3e C[useAutoUpdateMonsters Hook]\r\n    C --\x3e D[API Route /api/cron/update-monsters]\r\n    D --\x3e E[MongoDB]\r\n    C --\x3e F[Timeout Al\xe9atoire]\r\n    F --\x3e C\n"})}),"\n",(0,r.jsx)(n.h3,{id:"composants-principaux",children:"Composants principaux"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"API Route"})," (",(0,r.jsx)(n.code,{children:"src/app/api/cron/update-monsters/route.ts"}),")"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Point d'entr\xe9e pour la mise \xe0 jour"}),"\n",(0,r.jsx)(n.li,{children:"Se connecte \xe0 MongoDB"}),"\n",(0,r.jsx)(n.li,{children:"Met \xe0 jour les \xe9tats al\xe9atoirement"}),"\n",(0,r.jsx)(n.li,{children:"Logs d\xe9taill\xe9s"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Hook React"})," (",(0,r.jsx)(n.code,{children:"src/hooks/use-auto-update-monsters.ts"}),")"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"G\xe8re le cycle de vie des mises \xe0 jour"}),"\n",(0,r.jsx)(n.li,{children:"Calcule les intervalles al\xe9atoires"}),"\n",(0,r.jsx)(n.li,{children:"\xc9vite les appels concurrents"}),"\n",(0,r.jsx)(n.li,{children:"Retourne l'\xe9tat et les statistiques"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Composant"})," (",(0,r.jsx)(n.code,{children:"src/components/monsters/auto-updater.tsx"}),")"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Wrapper du hook"}),"\n",(0,r.jsx)(n.li,{children:"Indicateur visuel optionnel"}),"\n",(0,r.jsx)(n.li,{children:"Int\xe9gr\xe9 dans le layout principal"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-fonctionnalit\xe9s",children:"\u2728 Fonctionnalit\xe9s"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Intervalle al\xe9atoire"})," : Entre 1 et 3 minutes par d\xe9faut"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Logs d\xe9taill\xe9s"})," : Console navigateur + Vercel"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Gestion d'erreurs"})," : Retry automatique"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Tracking"})," : Compteur de mises \xe0 jour, temps avant la prochaine"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"S\xe9curit\xe9 optionnelle"})," : Token d'authentification"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Indicateur visuel"})," : Badge en bas \xe0 droite (optionnel)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-avantages",children:"\ud83d\ude80 Avantages"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pas de service externe"})," : Tout dans Next.js"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gratuit"})," : Aucun co\xfbt suppl\xe9mentaire"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simple"})," : Pas de configuration complexe"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flexible"})," : Intervalle configurable"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Compatible Vercel"})," : Architecture serverless"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-\xe9tats-possibles",children:"\ud83d\udcca \xc9tats possibles"}),"\n",(0,r.jsx)(n.p,{children:"Les monstres peuvent avoir les \xe9tats suivants :"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\xc9tat"}),(0,r.jsx)(n.th,{children:"Emoji"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sad"})}),(0,r.jsx)(n.td,{children:"\ud83d\ude22"}),(0,r.jsx)(n.td,{children:"Triste"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"angry"})}),(0,r.jsx)(n.td,{children:"\ud83d\ude20"}),(0,r.jsx)(n.td,{children:"En col\xe8re"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hungry"})}),(0,r.jsx)(n.td,{children:"\ud83d\ude0b"}),(0,r.jsx)(n.td,{children:"Affam\xe9"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sleepy"})}),(0,r.jsx)(n.td,{children:"\ud83d\ude34"}),(0,r.jsx)(n.td,{children:"Endormi"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"-flux-de-mise-\xe0-jour",children:"\ud83d\udd04 Flux de mise \xe0 jour"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"D\xe9marrage"})," : Le composant ",(0,r.jsx)(n.code,{children:"MonstersAutoUpdater"})," d\xe9marre au chargement de l'app"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Premi\xe8re mise \xe0 jour"})," : Ex\xe9cut\xe9e imm\xe9diatement"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Calcul al\xe9atoire"})," : Un d\xe9lai entre ",(0,r.jsx)(n.code,{children:"minInterval"})," et ",(0,r.jsx)(n.code,{children:"maxInterval"})," est calcul\xe9"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Attente"})," : Le syst\xe8me attend le d\xe9lai calcul\xe9"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mise \xe0 jour"})," : L'API est appel\xe9e pour mettre \xe0 jour les monstres"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Boucle"})," : Retour \xe0 l'\xe9tape 3"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-documentation-d\xe9taill\xe9e",children:"\ud83d\udcda Documentation d\xe9taill\xe9e"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/documentation/cron/quickstart",children:"Guide de d\xe9marrage rapide"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/documentation/cron/configuration",children:"Configuration avanc\xe9e"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/documentation/cron/api-reference",children:"API Reference"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/documentation/cron/troubleshooting",children:"D\xe9pannage"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-prochaines-\xe9tapes",children:"\ud83c\udf93 Prochaines \xe9tapes"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Consultez le ",(0,r.jsx)(n.a,{href:"/documentation/cron/quickstart",children:"Guide de d\xe9marrage rapide"})," pour commencer"]}),"\n",(0,r.jsxs)(n.li,{children:["Explorez la ",(0,r.jsx)(n.a,{href:"/documentation/cron/configuration",children:"Configuration avanc\xe9e"})," pour personnaliser"]}),"\n",(0,r.jsxs)(n.li,{children:["R\xe9f\xe9rez-vous au ",(0,r.jsx)(n.a,{href:"/documentation/cron/troubleshooting",children:"D\xe9pannage"})," en cas de probl\xe8me"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var i=s(6540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);